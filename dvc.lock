schema: '2.0'
stages:
  preprocess:
    cmd: python preprocess_dataset.py params.yaml raw_dataset/weather.csv processed_dataset/weather.csv
    deps:
    - path: preprocess_dataset.py
      hash: md5
      md5: 597b49a4bff379abb453940cfb16ac7f
      size: 4644
    - path: raw_dataset/weather.csv
      hash: md5
      md5: c2785a2c54204c072871c189a600439a
      size: 2726129
    - path: utils_and_constants.py
      hash: md5
      md5: f33974cc0dd1c2d04299c31bd232ee95
      size: 1054
    params:
      params.yaml:
        preprocess:
          drop_colnames:
          - Date
          target_column: RainTomorrow
          categorical_features:
          - Location
          - WindGustDir
          - WindDir9am
          - WindDir3pm
          - RainToday
    outs:
    - path: processed_dataset/weather.csv
      hash: md5
      md5: 5a799ba072f8399633fbd5b922d7c499
      size: 10526986
  train_and_evaluate:
    cmd: python train_and_evaluate.py params.yaml processed_dataset/weather.csv
    deps:
    - path: metrics_and_plots.py
      hash: md5
      md5: f212e8ec04c8d016430f70c3b30811ef
      size: 1715
    - path: model.py
      hash: md5
      md5: 652a37d44077439ac5ffabdee2b2ed84
      size: 1669
    - path: processed_dataset/weather.csv
      hash: md5
      md5: 5a799ba072f8399633fbd5b922d7c499
      size: 10526986
    - path: train_and_evaluate.py
      hash: md5
      md5: a495e388b1f2284f55e50c6d145d03b1
      size: 2420
    - path: utils_and_constants.py
      hash: md5
      md5: f33974cc0dd1c2d04299c31bd232ee95
      size: 1054
    params:
      params.yaml:
        train_and_evaluate:
          target_column: RainTomorrow
          train_test_split:
            test_size: 0.2
            random_state: 1993
          shuffle: true
          shuffle_random_state: 1993
          rfc_params:
            n_estimators: 3
            max_depth: 2
            random_state: 42
    outs:
    - path: confusion_matrix.png
      hash: md5
      md5: 97007ef509e81da57449d9f3beea7a9e
      size: 17590
    - path: metrics.json
      hash: md5
      md5: 90255332bcae6f8e45214fe535dc7d06
      size: 76
    - path: predictions.csv
      hash: md5
      md5: 827ea61abddb43b599be84da5931b86b
      size: 25028
